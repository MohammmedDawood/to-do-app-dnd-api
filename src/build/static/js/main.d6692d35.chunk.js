(this["webpackJsonpto-do-app-dnd"]=this["webpackJsonpto-do-app-dnd"]||[]).push([[0],{39:function(t,e,n){},40:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var o,s=n(0),c=n.n(s),a=n(11),r=n.n(a),i=(n(39),n(5)),d=(n(40),n(41),n(9)),l=n(6),u=n(16),j=n(14),b=n.n(j),p=n(15),f=Object(p.b)("todo/getTodosAsync",Object(u.a)(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-todo-dnd-api.herokuapp.com/todos");case 2:if(200!==(e=t.sent).status){t.next=8;break}return t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",{todos:n});case 8:case"end":return t.stop()}}),t)})))),m=Object(p.b)("todo/addTodoAsync",function(){var t=Object(u.a)(b.a.mark((function t(e){var n,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-todo-dnd-api.herokuapp.com/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(200!==(n=t.sent).status){t.next=9;break}return console.log(e),t.next=7,n.json();case 7:return o=t.sent,t.abrupt("return",{todos:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),O=Object(p.b)("todo/changeStatusTodoAsync",function(){var t=Object(u.a)(b.a.mark((function t(e){var n,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-todo-dnd-api.herokuapp.com/todos/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status})});case 2:if(200!==(n=t.sent).status){t.next=9;break}return console.log(e),t.next=7,n.json();case 7:return o=t.sent,t.abrupt("return",{todos:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),h=Object(p.b)("todo/editTodoAsync",function(){var t=Object(u.a)(b.a.mark((function t(e){var n,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-todo-dnd-api.herokuapp.com/todos/edit/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,description:e.description,status:e.status})});case 2:if(200!==(n=t.sent).status){t.next=11;break}return console.log(e),t.next=7,n.json();case 7:return o=t.sent,console.log(n),console.log(o),t.abrupt("return",{todos:o});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=Object(p.b)("todo/deleteTodoAsync",function(){var t=Object(u.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-todo-dnd-api.herokuapp.com/todos/".concat(e.id),{method:"DELETE"});case 2:if(200!==t.sent.status){t.next=6;break}return console.log(e),t.abrupt("return",{id:e.id});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g=Object(p.c)({name:"todos",initialState:[],reducers:{addTodo:function(t,e){var n={id:e.payload.id,title:e.payload.title,description:e.payload.description,status:e.payload.status};t.push(n)},changeStatus:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].status=e.payload.status},editTodo:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].title=e.payload.title,t[n].description=e.payload.description},deleteTodo:function(t,e){return t.filter((function(t){return t.id!==e.payload.id}))}},extraReducers:(o={},Object(l.a)(o,f.fulfilled,(function(t,e){return console.log("data Fetched successfully!"),e.payload.todos})),Object(l.a)(o,m.fulfilled,(function(t,e){console.log("data Added successfully!"),t.push(e.payload.todos)})),Object(l.a)(o,O.fulfilled,(function(t,e){console.log("data Status Changed successfully successfully!");var n=t.findIndex((function(t){return t.id===e.payload.todos.id}));t[n].status=e.payload.todos.status})),Object(l.a)(o,h.fulfilled,(function(t,e){console.log("data Edited successfully successfully!");var n=t.findIndex((function(t){return t.id===e.payload.todos.id}));console.log(n),console.log(e.payload.todos),t[n].title=e.payload.todos.title,t[n].description=e.payload.todos.description})),Object(l.a)(o,x.fulfilled,(function(t,e){return console.log("data Deleted successfully successfully!"),console.log((function(t){return t.id!==e.payload.id})),t.filter((function(t){return t.id!==e.payload.id}))})),o)}),v=g.actions,y=(v.addTodo,v.deleteTodo,v.changeStatus,g.reducer),k=n(1),C=function(){var t=Object(d.c)(),e=Object(s.useState)(""),n=Object(i.a)(e,2),o=n[0],c=n[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),l=r[0],u=r[1];return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("title: "+o),console.log("description: "+l),console.log("status: To Do"),t(m({title:o,description:l,status:"To Do"})),c(""),u("")},className:" align-items-center mx-auto mt-3 mb-3  col-6",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"input-group mb-2 mr-sm-2 col-3",children:[Object(k.jsx)("span",{className:"input-group-text",children:"Title"}),Object(k.jsx)("input",{type:"text",className:"form-control ",placeholder:"Add title...",value:o,onChange:function(t){return c(t.target.value)}})]})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"input-group mb-2 mr-sm-2 col-3",children:[Object(k.jsx)("span",{className:"input-group-text mb-2 mr-sm-2",children:"Description"}),Object(k.jsx)("textarea",{className:"form-control mb-2 mr-sm-2",placeholder:"Add description...",value:l,onChange:function(t){return u(t.target.value)}})]})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary mb-2 col-12",children:"Add Todo"})})]})},N=n(2),T=n(20),I=n(27),w=n(28),S=n(55),D=n(56);var P=function(t){var e=Object(d.c)(),n=Object(s.useState)(t.showTodoInfo),o=Object(i.a)(n,2),c=o[0],a=o[1],r=Object(s.useState)(t.todo.title),l=Object(i.a)(r,2),u=l[0],j=l[1],b=Object(s.useState)(t.todo.description),p=Object(i.a)(b,2),f=p[0],m=p[1],O=function(){a(!1),t.handleShowToDoInfo()};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(S.a,{show:c,onHide:O,children:[Object(k.jsx)(S.a.Header,{closeButton:!0,children:Object(k.jsx)(S.a.Title,{children:"Task Details"})}),Object(k.jsxs)(S.a.Body,{children:[Object(k.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(k.jsxs)("div",{className:"input-group mb-2 mr-sm-2 col-3",children:[Object(k.jsx)("span",{className:"input-group-text",children:"Title"}),Object(k.jsx)("input",{type:"text",className:"form-control ",placeholder:"Add title...",value:u,onChange:function(t){return j(t.target.value)}})]})}),Object(k.jsx)("div",{className:"col-lg-12 col-md-12",children:Object(k.jsxs)("div",{className:"input-group mb-2 mr-sm-2 col-3",children:[Object(k.jsx)("span",{className:"input-group-text mb-2 mr-sm-2",children:"Description"}),Object(k.jsx)("textarea",{className:"form-control mb-2 mr-sm-2",placeholder:"Add description...",value:f,onChange:function(t){return m(t.target.value)}})]})})]}),Object(k.jsxs)(S.a.Footer,{children:[Object(k.jsx)(D.a,{variant:"secondary",onClick:O,children:"Close"}),Object(k.jsx)(D.a,{variant:"primary",onClick:function(){console.log("id: "+t.todo.id),console.log("title: "+u),console.log("description: "+f),e(h({id:t.todo.id,title:u,description:f})),O()},children:"Save Changes"})]})]})})},A=function(t){var e=Object(d.c)(),n=Object(s.useState)(!1),o=Object(i.a)(n,2),c=o[0],a=o[1],r=function(){a(!c)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.b,{draggableId:t.todo.id,index:t.index,children:function(n,o){return Object(k.jsx)("li",Object(N.a)(Object(N.a)(Object(N.a)({className:o.isDragging?"list-group-item bg-success":"list-group-item"},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:Object(k.jsxs)("div",{className:"d-flex justify-content-between row  mx-auto  ",children:[Object(k.jsx)("div",{className:"d-flex align-items-center ",children:Object(k.jsx)("b",{children:Object(k.jsx)("h1",{children:t.todo.title})})}),Object(k.jsxs)("div",{className:"d-flex align-items-end row",children:[Object(k.jsx)("button",{className:c?"btn btn-danger m-1":"btn btn-success m-1",onClick:r,children:Object(k.jsx)(I.a,{icon:w.a})}),Object(k.jsx)("button",{id:t.todo.id,className:"btn btn-danger m-1",onClick:function(){return console.log("delete"),console.log(t.todo.id),void e(x({id:t.todo.id}))},children:Object(k.jsx)(I.a,{icon:w.b})})]})]})}))}}),c&&Object(k.jsx)(P,{todo:t.todo,showTodoInfo:c,handleShowToDoInfo:r})]})},F=function(){var t=Object(d.c)(),e=Object(d.d)((function(t){return t.todos}));Object(s.useEffect)((function(){t(f())}),[t]);var n=Object(s.useState)({tasks:e,columns:{todoColumn:{id:"todoColumn",title:"To do",taskIds:e.filter((function(t){return"To Do"===t.status?t.id:null}))},inProgressColumn:{id:"inProgressColumn",title:"In Progress",taskIds:e.filter((function(t){return"In Progress"===t.status?t.id:null}))},doneColumn:{id:"doneColumn",title:"Done",taskIds:e.filter((function(t){return"Done"===t.status?t.id:null}))}},columnOrder:["todoColumn","inProgressColumn","doneColumn"]}),o=Object(i.a)(n,2),c=o[0],a=o[1];Object(s.useEffect)((function(){a({tasks:e,columns:{todoColumn:{id:"todoColumn",title:"To Do",taskIds:e.filter((function(t){return"To Do"===t.status?t.id:null}))},inProgressColumn:{id:"inProgressColumn",title:"In Progress",taskIds:e.filter((function(t){return"In Progress"===t.status?t.id:null}))},doneColumn:{id:"doneColumn",title:"Done",taskIds:e.filter((function(t){return"Done"===t.status?t.id:null}))}},columnOrder:["todoColumn","inProgressColumn","doneColumn"]})}),[e]),console.log(c);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row justify-content-center",children:Object(k.jsx)(T.a,{onDragEnd:function(e){var n,o=e.destination,s=e.source,r=e.draggableId;if(o&&(o.droppableId!==s.droppableId||o.index!==s.index)){var i=c.columns[s.droppableId],d=c.columns[o.droppableId];if(i===d){var u=Array.from(i.taskIds);u.splice(s.index,1),u.splice(o.index,0,c.tasks.find((function(t){return t.id===r})));var j=Object(N.a)(Object(N.a)({},i),{},{taskIds:u});console.log(j);var b=Object(N.a)(Object(N.a)({},c),{},{columns:Object(N.a)(Object(N.a)({},c.columns),{},Object(l.a)({},j.id,j))});return console.log(b),void a(b)}var p=Array.from(i.taskIds);p.splice(s.index,1);var f=Object(N.a)(Object(N.a)({},i),{},{taskIds:p}),m=Array.from(d.taskIds);m.splice(o.index,0,c.tasks.find((function(t){return t.id===r}))),console.log(r);var h=Object(N.a)(Object(N.a)({},d),{},{taskIds:m});console.log(h.title);var x=Object(N.a)(Object(N.a)({},c),{},{columns:Object(N.a)(Object(N.a)({},c.columns),{},(n={},Object(l.a)(n,f.id,f),Object(l.a)(n,h.id,h),n))});console.log(x),a(x),t(O({id:r,status:h.title}))}},children:c.columnOrder.map((function(t){return Object(k.jsx)(T.c,{droppableId:c.columns[t].id,children:function(e,n){return Object(k.jsxs)("div",{className:" border border-dark rounded  col-lg-3 col-md-3 col-sm-12 m-1",children:[Object(k.jsx)("h1",{className:"m-1",children:c.columns[t].title},t),Object(k.jsx)("hr",{}),Object(k.jsxs)("ul",Object(N.a)(Object(N.a)({className:"list-group m-3"},e.droppableProps),{},{ref:e.innerRef,style:n.isDraggingOver?{backgroundColor:"lightblue"}:null,children:[c.columns[t].taskIds.map((function(t,e){return Object(k.jsx)(A,{todo:t,index:e},t.id)})),e.placeholder]}))]})}},t)}))})})})})},E=function(){var t=Object(d.d)((function(t){return t.todos.filter((function(t){return"Done"===t.status})).length}));return Object(k.jsxs)("h4",{className:"mt-3",children:["Total Completed Items: ",t]})},H=function(){var t=Object(s.useState)(!1),e=Object(i.a)(t,2),n=e[0],o=e[1];return Object(k.jsxs)("div",{className:"container bg-white mt-5 ",children:[Object(k.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(k.jsx)("span",{className:"d-flex align-items-center  ",children:Object(k.jsx)("h1",{children:"My Todo List"})}),Object(k.jsx)("span",{className:"d-flex align-items-center",children:Object(k.jsx)("button",{className:n?"btn btn-danger":"btn btn-success",onClick:function(){return o(!n)},children:n?"Close":"Add a todo"})})]}),n&&Object(k.jsx)(C,{}),Object(k.jsx)(F,{}),Object(k.jsx)(E,{})]})},J=Object(p.a)({reducer:{todos:y}}),B=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(e){var n=e.getCLS,o=e.getFID,s=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),o(t),s(t),c(t),a(t)}))};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(d.a,{store:J,children:Object(k.jsx)(H,{})})}),document.getElementById("root")),B()}},[[52,1,2]]]);
//# sourceMappingURL=main.d6692d35.chunk.js.map